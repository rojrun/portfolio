/*!
 * Start Bootstrap - Freelancer v5.0.3 (https://startbootstrap.com/template-overviews/freelancer)
 * Copyright 2013-2020 Start Bootstrap
 * Licensed under MIT (https://github.com/BlackrockDigital/startbootstrap-freelancer/blob/master/LICENSE)
 */

$((function(){var e=[],t=[],l=0;$("#get_file").click((function(){$("#uploaded_file").click()})),$("input[type=file]").change((function(o){$("#sendMessageButton").prop("disabled",!0),$(":file ~ p.help-block.text-danger:last-child").children().length>0&&$(":file ~ p.help-block.text-danger:last-child").empty(),$(":file ~ p.help-block.text-danger:last-child > ul").children().length>0&&$(":file ~ p.help-block.text-danger:last-child > ul").remove();var s=$(o.target)[0].files;e=$.makeArray(s),console.log("group of files in array: ",e),$.each(e,(function(o,s){try{console.log("file: ",s),console.log("index: ",o);var n=["jpeg","jpg","gif","pdf","png","doc","docx","txt","xls","psd"],i=$.inArray(s.name.split(".").pop().toLowerCase(),n);if(console.log("fileext: ",i),-1===i)console.log("file not allowed. fileArray: ",e),console.log("file not allowed: ",s.name),e.splice(e.indexOf(s.name),1),console.log("file not allowed. fileArray after splice file: ",e),$(":file ~ p.help-block.text-danger:last-child").html('<ul role="alert"><li>Only '+n.join(", ")+" formats are allowed.</li></ul>"),setTimeout((function(){$(":file ~ p.help-block.text-danger:last-child > ul").remove()}),4e3);else{var a=$.inArray(s.name,t);if(console.log("dupli: ",a),-1===a){l+=s.size;var r=$("<li>");$("#file_list").append(r.addClass("text-primary").html(s.name+'&nbsp;&nbsp;&nbsp;<span style="color:black; font-weight:bold;"> | </span>&nbsp;&nbsp;&nbsp;'+s.size.toLocaleString("en")+" bytes").append($("<button type='button' aria-hidden='Close'>").addClass("close").html("&times;").css({color:"#fff","text-shadow":"0px 5px 0 #000"}).click((function(){console.log("file value: ",s.name),console.log("file size: ",s.size),console.log("totalFilesArray before splice: ",t),l-=s.size,t.splice(t.indexOf(s.name),1),r.remove(),console.log("totalFilesArray after splice: ",t),console.log("fileSizeTotal: ",l),$(".total").html('<span style="color:black; font-weight:bold;">Total: </span>&nbsp;&nbsp;&nbsp;'+t.length+' files &nbsp;&nbsp;&nbsp;<span style="color:black; font-weight:bold;"> | </span>&nbsp;&nbsp;&nbsp;'+l.toLocaleString("en")+" out of "+1e5.toLocaleString("en")+" bytes"),l<1e5&&($(":file ~ p.help-block.text-danger:last-child > ul").remove(),$("#sendMessageButton").prop("disabled",!1))})))),t.push(s),console.log("totalFilesArray: ",t)}else console.log(s.name+" is a duplicate")}}catch(t){console.error("file value error: ",t),console.log("fileArray: ",e),e.splice(e.indexOf(t),1),console.log("file not allowed. fileArray: ",e),$(":file ~ p.help-block.text-danger:last-child").html('<ul role="alert"><li>There is something wrong with that file. Please select again.'),setTimeout((function(){$(":file ~ p.help-block.text-danger:last-child > ul").remove()}),4e3)}})),console.log("totalFilesArray length: ",t.length),$(".total").html('<span style="color:black; font-weight:bold;">Total: </span>&nbsp;&nbsp;&nbsp;'+t.length+' files &nbsp;&nbsp;&nbsp;<span style="color:black; font-weight:bold;"> | </span>&nbsp;&nbsp;&nbsp;'+l.toLocaleString("en")+" out of "+1e5.toLocaleString("en")+" bytes"),console.log("totalFilesArray: ",t),l>1e5?($(":file ~ p.help-block.text-danger:last-child").html('<ul role="alert"><li>You have exceeded the upload limit.</li></ul>'),$(":file ~ p.help-block.text-danger:last-child > ul").append("<li>Please edit your list.</li>"),$("#sendMessageButton").prop("disabled",!0)):$("#sendMessageButton").prop("disabled",!1)})),$("#contactForm input,#contactForm textarea").jqBootstrapValidation({preventSubmit:!0,submitError:function(e,t,l){},submitSuccess:function(e,l){l.preventDefault();var o=new FormData(l.target);0===o.get("uploaded_file[]").size?o.delete("uploaded_file[]"):(o.delete("uploaded_file[]"),$.each(t,(function(e,t){o.append("uploaded_file[]",t,t.name)})));var s=o.get("name");s.indexOf(" ")>=0&&(s=s.split(" ").slice(0,-1).join(" ")),$("#sendMessageButton").prop("disabled",!0),$.ajax({url:"././mail/contact_me.php",type:"POST",data:o,processData:!1,contentType:!1,cache:!1,success:function(){$("#success").html("<div class='alert alert-success'>"),$("#success > .alert-success").html("<button type='button' class='close' data-dismiss='alert' aria-hidden='true'>&times;").append("</button>"),$("#success > .alert-success").append($("<strong>").text("Thank you "+s+"! Your message has been sent!")),$("#success > .alert-success").append("</div>"),$("#contactForm").trigger("reset")},error:function(){$("#success").html("<div class='alert alert-danger'>"),$("#success > .alert-danger").html("<button type='button' class='close' data-dismiss='alert' aria-hidden='true'>&times;").append("</button>"),$("#success > .alert-danger").append($("<strong>").text("Sorry "+s+", it seems that my mail server is not responding. Please try again later!")),$("#success > .alert-danger").append("</div>"),$("#contactForm").trigger("reset")},complete:function(){setTimeout((function(){$("#sendMessageButton").prop("disabled",!1)}),1e3)}})},filter:function(){return $(this).is(":visible")}}),$('a[data-toggle="tab"]').click((function(e){e.preventDefault(),$(this).tab("show")}))})),$("#name").focus((function(){$("#success").html("")}));var phonevalue1,phonevalue2,cursorposition,zChar=new Array(" ","(",")","-","."),maxphonelength=13;function ParseForNumber1(e){phonevalue1=ParseChar(e.value,zChar)}function ParseForNumber2(e){phonevalue2=ParseChar(e.value,zChar)}function backspacerUP(e,t){if((t=t||window.event).which)var l=t.which;else l=t.keyCode;ParseForNumber1(e),l>=48&&ValidatePhone(e)}function backspacerDOWN(e,t){if((t=t||window.event).which)t.which;else t.keyCode;ParseForNumber2(e)}function GetCursorPosition(){var e=phonevalue1,t=phonevalue2,l=!1;for(i=0;i<e.length;i++)e.substring(i,1)!=t.substring(i,1)&&(l||(cursorposition=i,l=!0))}function ValidatePhone(e){var t=phonevalue1;if((t=t.replace(/[^\d]*/gi,"")).length<3?e.value=t:3==t.length?(pp=t,d4=t.indexOf("("),d5=t.indexOf(")"),-1==d4&&(pp="("+pp),-1==d5&&(pp+=")"),e.value=pp):t.length>3&&t.length<7?(t="("+t,l30=t.length,p30=t.substring(0,4),p30+=")",p31=t.substring(4,l30),pp=p30+p31,e.value=pp):t.length>=7&&(t="("+t,l30=t.length,p30=t.substring(0,4),p30+=")",p31=t.substring(4,l30),pp=p30+p31,l40=pp.length,p40=pp.substring(0,8),p40+="-",p41=pp.substring(8,l40),ppp=p40+p41,e.value=ppp.substring(0,maxphonelength)),GetCursorPosition(),cursorposition>=0){0==cursorposition?cursorposition=2:cursorposition<=2?cursorposition+=1:cursorposition<=5||6==cursorposition?cursorposition+=2:7==cursorposition?(cursorposition+=4,e1=e.value.indexOf(")"),e2=e.value.indexOf("-"),e1>-1&&e2>-1&&e2-e1==4&&(cursorposition-=1)):cursorposition<11?cursorposition+=3:11==cursorposition?cursorposition+=1:cursorposition>=12&&(cursorposition=cursorposition);var l=document.getElementById("phone");12===cursorposition&&13===l.value.length&&(l.blur(),l.setSelectionRange(0,13),phone=l.value)}}function ParseChar(e,t){for(zChar=null==t.length?new Array(t):t,i=0;i<zChar.length;i++){sNewStr="";for(var l=0,o=e.indexOf(t[i]);-1!=o;)sNewStr+=e.substring(l,o),l=o+1,o=e.indexOf(t[i],l);sNewStr+=e.substring(e.lastIndexOf(t[i])+1,e.length),e=sNewStr}return sNewStr}