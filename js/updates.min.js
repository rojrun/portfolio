/*!
 * Start Bootstrap - Freelancer v5.0.3 (https://startbootstrap.com/template-overviews/freelancer)
 * Copyright 2013-2020 Start Bootstrap
 * Licensed under MIT (https://github.com/BlackrockDigital/startbootstrap-freelancer/blob/master/LICENSE)
 */

$((function(){$("input#updates_name").on("change",(function(){$("#updatesButton").prop("disabled",!0);var e=$("input#updates_name").val().split(" ");e.length>=2&&!e.some(e=>""===e)?($("input#updates_name ~ p.help-block.text-danger:last-child > ul").children().length>0&&$("input#updates_name ~ p.help-block.text-danger:last-child > ul").remove(),$("#updatesButton").prop("disabled",!1)):($("input#updates_name ~ p.help-block.text-danger:last-child").html('<ul role="alert"><li>'+$("input#updates_name").attr("data-validation-required-message")+"</li></ul>"),$("input#updates_name ~ p.help-block.text-danger:last-child > ul").append("<li>Names cannot have empty spaces.</li>"),$("#updatesButton").prop("disabled",!0))})),$("#select_all").on("click",(function(){this.checked?$(".checkboxall").each((function(){$(".checkboxall").prop("checked",!0)})):$(".checkboxall").each((function(){$(".checkboxall").prop("checked",!1)}))})),$(".checkboxall").on("change",(function(){$("#select_all").prop("checked",!1)})),$("#updatesForm input").jqBootstrapValidation({preventSubmit:!0,submitError:function(e,t,a){},submitSuccess:function(e,t){t.preventDefault();var a=new FormData(t.target),s=a.get("name");s.indexOf(" ")>=0&&(s=s.split(" ").slice(0,-1).join(" ")),$("#updatesButton").prop("disabled",!0),$.ajax({url:"././mail/updates.php",type:"POST",data:a,processData:!1,contentType:!1,cache:!1,success:function(){$("#updatesSuccess").html("<div class='alert alert-success'>"),$("#updatesSuccess > .alert-success").html("<button type='button' class='close' data-dismiss='alert' aria-hidden='true'>&times;").append("</button>"),$("#updatesSuccess > .alert-success").append($("<strong>").text("Thank you "+s+" for signing up!")),$("#updatesSuccess > .alert-success").append("</div>")},error:function(){$("#updatesSuccess").html("<div class='alert alert-danger'>"),$("#updatesSuccess > .alert-danger").html("<button type='button' class='close' data-dismiss='alert' aria-hidden='true'>&times;").append("</button>"),$("#updatesSuccess > .alert-danger").append($("<strong>").text("Sorry "+s+", it seems that my mail server is not responding. Please try again later!")),$("#updatesSuccess > .alert-danger").append("</div>")},complete:function(){setTimeout((function(){$("#updatesButton").prop("disabled",!1)}),700),$("input[type='text'], input[type='email']").val(""),$("input[type='checkbox']").prop("checked",!1),$("#updatesSuccess").empty(),$.magnificPopup.close(),$(".updatesModalPopupButton").fadeIn()}})},filter:function(){return $(this).is(":visible")}}),$('a[data-toggle="tab"]').on("click",(function(e){e.preventDefault(),$(this).tab("show")}))})),$("#name").on("focus",(function(){$("#updatesSuccess").html("")}));